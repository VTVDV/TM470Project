<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core"> 

<h:head>
	<link href="#{request.contextPath}/css/dash.css" rel="stylesheet" type="text/css"/> 
	<link href="#{request.contextPath}/css/bootstrap.min.css" rel="stylesheet"/>
  <title><ui:insert name="title">#{bundle['welcome.title']}</ui:insert></title>
</h:head>

<!-- Test if user is logged in. -->
<c:if test="#{userBean.name eq null}">
	<f:event type="preRenderView" listener="#{userBean.redirect}" />
	<f:attribute name="page" value="login"/>
</c:if>

<body>
<div class = "header">
	<div class = "headerText">
		#{bundle['dash.greet']}
	</div>	 
	<div class ="headerText">
		#{bundle['dash.hello']} #{userBean.name}!
	</div>
</div>

<div class = "tiles">
	<ul class = "tilesList">
		<li class = "tile">
			<div class = "tileName"><p><a href="salesFront.xhtml">#{bundle['dash.sales']}</a></p></div>			
			<div class = "glyph"><span class="glyphicon glyphicon-gbp"></span></div>			
		</li>
		<li class = "tile">
			<div class = "tileName"><p>#{bundle['dash.test']}</p></div>			
			<div class = "glyph"><span class="glyphicon glyphicon-ok-circle"></span></div>			
		</li>
		<li class = "tile">
			<div class = "tileName"><p><a href="stockManagement.xhtml">#{bundle['dash.stock']}</a></p></div>			
			<div class = "glyph"><span class="glyphicon glyphicon-barcode"></span></div>			
		</li>
		<li class = "tile">
			<div class = "tileName"><p>#{bundle['dash.reports']}</p></div>			
			<div class = "glyph"><span class="glyphicon glyphicon-stats"></span></div>			
		</li>
		<!-- TEST USER HAS PERMISSION -->
		<c:if test="#{userBean.userType eq 1}">
		<li class = "tile">
			<div class = "tileName"><p>#{bundle['dash.office']}</p></div>			
			<div class = "glyph"><span class="glyphicon glyphicon-paperclip"></span></div>			
		</li>
		<li class = "tile">
			<div class = "tileName"><p><a href="users.xhtml">#{bundle['dash.users']}</a></p></div>			
			<div class = "glyph"><span class="glyphicon glyphicon-user"></span></div>			
		</li>
		</c:if>
	</ul>
</div>

<!--  TESTING PURPOSES ONLY! DELETE FOR FINAL VERSION!
<c:if test="#{userBean.userType eq 1}">
    TEST NUMBER 1!
</c:if>
<c:if test="#{userBean.userType eq 2}">
    TEST NUMBER 2!
</c:if>
-->
</body> 
</html>
